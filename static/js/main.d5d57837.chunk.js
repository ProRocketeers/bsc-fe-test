(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){},20:function(e){e.exports={"appbar.app.name":"Pozn\xe1mky ProRocketeers","appbar.note.list":"P\u0159ehled pozn\xe1mek","appbar.note.new":"Nov\xe1 pozn\xe1mka","common.went.wrong":"N\u011bco se pokazilo...","note.creator.created":"Pozn\xe1mka vytvo\u0159ena","note.creator.error":"Chyba p\u0159i ukl\xe1d\xe1n\xed pozn\xe1mky","note.creator.label.note":"Pozn\xe1mka","note.creator.new":"Nov\xe1 pozn\xe1mka","note.creator.save":"Ulo\u017eit","note.detail.edit":"Upravit","note.editor.error":"Chyba p\u0159i aktualizaci pozn\xe1mky","note.editor.header":"Pozn\xe1mka #{noteId}","note.editor.label.note":"Pozn\xe1mka","note.editor.save":"Ulo\u017eit","note.editor.updated":"Pozn\xe1mka aktualizov\xe1na","note.list.delete":"Smazat","note.list.delete.error":"Pozn\xe1mku #{nodeId} nelze smazat","note.list.edit":"Upravit","note.list.note":"Pozn\xe1mka"}},21:function(e){e.exports={"appbar.app.name":"ProRocketeers' Notes","appbar.note.list":"List of notes","appbar.note.new":"Create note","common.went.wrong":"Something went wrong...","note.creator.created":"Note created","note.creator.error":"Error saving note","note.creator.label.note":"Note","note.creator.new":"Create new note","note.creator.save":"Save","note.detail.edit":"Edit","note.editor.error":"Error updating note","note.editor.header":"Note #{noteId}","note.editor.label.note":"Note","note.editor.save":"Save","note.editor.updated":"Note updated","note.list.delete":"Delete","note.list.delete.error":"Unable to delete note #{nodeId}","note.list.edit":"Edit","note.list.note":"Note"}},26:function(e,t,a){e.exports=a(54)},39:function(e,t){},45:function(e,t){},50:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),c=a(5),i=a(56),s=a(57),d=a(2),u=(a(50),a(7)),m=a.n(u),E=a(8),p=a(11),b=a(55),f={"Content-Type":"application/json"},g=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,r,o,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setState,n=t.state,r=t.config,a(Object(E.a)({},n,{loading:!0})),e.prev=2,e.next=5,v(r);case 5:if(!(o=e.sent).ok){e.next=13;break}return e.next=9,o.json();case 9:l=e.sent,a({loading:!1,error:null,data:l}),e.next=14;break;case 13:a({loading:!1,error:new Error(o.statusText),data:null});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),a({loading:!1,error:e.t0,data:null});case 19:case"end":return e.stop()}},e,null,[[2,16]])}));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.url,a=e.body,n=void 0===a?null:a,r=e.method,o={method:void 0===r?"GET":r,headers:f};return n&&(o=Object(E.a)({},o,{body:JSON.stringify(n)})),fetch(t,o)},N={error:null,data:null,loading:!1},h=function(e){var t=e.config.url;Object(n.useEffect)(function(){g(e)},[t])},k="http://private-9aad-note10.apiary-mock.com",w=function(){return{url:"".concat(k,"/notes")}},O=function(e){return{url:"".concat(k,"/notes/").concat(e)}},j=function(e,t){return{url:"".concat(k,"/notes/").concat(e),method:"PUT",body:t}},y=function(e){return{url:"".concat(k,"/notes"),method:"POST",body:e}},C=function(e){return{url:"".concat(k,"/notes/").concat(e),method:"DELETE"}},S=Object(d.d)({appbarAppName:{id:"appbar.app.name",defaultMessage:"ProRocketeers' Notes"},appbarNoteNew:{id:"appbar.note.new",defaultMessage:"Create note"},appbarNoteList:{id:"appbar.note.list",defaultMessage:"List of notes"},noteListNote:{id:"note.list.note",defaultMessage:"Note"},noteListEdit:{id:"note.list.edit",defaultMessage:"Edit"},noteListDelete:{id:"note.list.delete",defaultMessage:"Delete"},noteListDeleteError:{id:"note.list.delete.error",defaultMessage:"Unable to delete note #{nodeId}"},commonWentWrong:{id:"common.went.wrong",defaultMessage:"Something went wrong..."},noteEditorLabelNote:{id:"note.editor.label.note",defaultMessage:"Note"},noteEditorSave:{id:"note.editor.save",defaultMessage:"Save"},noteEditorHeader:{id:"note.editor.header",defaultMessage:"Note #{noteId}"},noteEditorError:{id:"note.editor.error",defaultMessage:"Error updating note"},noteEditorUpdated:{id:"note.editor.updated",defaultMessage:"Note updated"},noteDetailEdit:{id:"note.detail.edit",defaultMessage:"Edit"},noteCreatorCreated:{id:"note.creator.created",defaultMessage:"Note created"},noteCreatorError:{id:"note.creator.error",defaultMessage:"Error saving note"},noteCreatorNew:{id:"note.creator.new",defaultMessage:"Create new note"},noteCreatorLabelNote:{id:"note.creator.label.note",defaultMessage:"Note"},noteCreatorSave:{id:"note.creator.save",defaultMessage:"Save"}}),x=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border text-primary bsc-spinner",role:"status"}))},L=function(e){var t=e.color,a=e.children;return r.a.createElement("div",{className:"alert alert-".concat(t||"primary"),role:"alert"},a)};var M=Object(d.e)(function(e){var t=e.history,a=e.intl.formatMessage,o=Object(n.useState)({error:null,data:[],loading:!1}),l=Object(c.a)(o,2),i=l[0],s=l[1];h({config:w(),state:i,setState:s});var u=Object(n.useState)({loading:!1,error:null,id:null}),f=Object(c.a)(u,2),g=f[0],N=f[1],k=function(e){return Object(p.a)(m.a.mark(function t(){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N({loading:!0,error:null,id:e}),t.prev=1,t.next=4,v(C(e));case 4:n=i.data.filter(function(t){return t.id!==e}),N({loading:!1,error:null,id:null}),s(Object(E.a)({},i,{data:n})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),N({loading:!1,error:a(S.noteListDeleteError,{nodeId:e}),id:e});case 12:case"end":return t.stop()}},t,null,[[1,9]])}))},O=i.error,j=i.loading,y=i.data;return r.a.createElement("div",{className:" table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement(d.a,S.noteListNote)),r.a.createElement("th",null))),r.a.createElement("tbody",null,j&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:"text-center"},r.a.createElement(x,null))),(O||!y)&&!j&&r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:3},r.a.createElement(L,{color:"danger"},r.a.createElement(d.a,S.commonWentWrong)))),y&&y.map(function(e){var a=e.id,n=e.title;return r.a.createElement("tr",{key:a},"".concat(g.id)==="".concat(a)?r.a.createElement("td",{colSpan:3,className:"text-center"},g.loading&&r.a.createElement(x,null),g.error&&!g.loading&&r.a.createElement(L,{color:"danger"},g.error)):r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement(b.a,{to:"/note/detail/".concat(a)},n)),r.a.createElement("td",{className:"text-right"},r.a.createElement("div",{className:"btn-group btn-group-sm",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.push("/note/edit/".concat(a))}},r.a.createElement(d.a,S.noteListEdit)),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:k(a)},r.a.createElement(d.a,S.noteListDelete))))))}))))});function z(e){var t=e.match,a=e.history,r=Object(n.useState)(N),o=Object(c.a)(r,2),l=o[0],i=o[1],s=t?t.params.id:"";h({state:l,setState:i,config:O(s)});var u=l.loading,m=l.error,E=l.data;return m?n.createElement(L,{color:"danger"},n.createElement(d.a,S.commonWentWrong)):u||!E?n.createElement(x,null):n.createElement("div",null,n.createElement("h1",null,E.title),n.createElement("div",null,n.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){a.push("/note/edit/".concat(s))}},n.createElement(d.a,S.noteDetailEdit))))}function D(e){var t=e.match,a=t?t.params.id:"",r=Object(n.useState)(N),o=Object(c.a)(r,2),l=o[0],i=o[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),m=u[0],p=u[1];h({config:O(a),state:l,setState:i});var b=l.loading,f=l.data,v=l.error;return b&&!m||!f?n.createElement("div",{className:"text-center"},n.createElement(x,null)):v&&!m?n.createElement(L,{color:"danger"},n.createElement(d.a,S.commonWentWrong)):n.createElement("form",null,n.createElement("h1",null,n.createElement(d.a,Object.assign({},S.noteEditorHeader,{values:{noteId:f.id}}))),m&&v&&n.createElement(L,{color:"danger"},n.createElement(d.a,S.noteEditorError)),m&&!b&&!v&&n.createElement(L,{color:"success"},n.createElement(d.a,S.noteEditorUpdated)),n.createElement("div",{className:"form-group bsc-container"},n.createElement("label",{htmlFor:"note"},n.createElement(d.a,S.noteEditorLabelNote)),n.createElement("input",{className:"form-control",type:"text",name:"note",id:"note",value:f&&f.title||"",onChange:function(e){l.data&&i(Object(E.a)({},l,{data:Object(E.a)({},l.data,{title:e.target.value})}))}})),m&&b?n.createElement(x,null):n.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return function(e){var t=e.id,a=e.title;if(0===a.trim().length)return!1;p(!0),g({config:j("".concat(t),{id:t,title:a}),state:l,setState:i})}(f)}},n.createElement(d.a,S.noteEditorSave)))}var I=a(14),R=a(20),P=a(21),A=a(22),T=a.n(A),U=a(23),W=a.n(U),F={en:"English",cs:"\u010cesky"},G={language:"language",setLocale:function(e){localStorage.setItem(G.language,e)},getLocale:function(){return localStorage.getItem(G.language)}},V=function(){return G.getLocale()||"en"},J={en:P,cs:R};Object(d.c)([].concat(Object(I.a)(W.a),Object(I.a)(T.a)));var H=function(e){var t=e.children,a=e.locale;a&&G.setLocale(a);var n=a||V();return r.a.createElement(d.b,{locale:n,messages:J[n],textComponent:r.a.Fragment},t)};var B=Object(d.e)(function(e){var t=e.intl.formatMessage,a=Object(n.useState)(""),r=Object(c.a)(a,2),o=r[0],l=r[1],i=Object(n.useState)(""),s=Object(c.a)(i,2),u=s[0],E=s[1],b={SAVING:"SAVING",CREATED:t(S.noteCreatorCreated),ERROR:t(S.noteCreatorError)};return n.createElement("form",null,n.createElement("h1",null,n.createElement(d.a,S.noteCreatorNew)),u===b.SAVING?n.createElement(x,null):n.createElement(n.Fragment,null,u===b.ERROR&&n.createElement(L,{color:"danger"},u),u===b.CREATED&&n.createElement(L,{color:"success"},u),n.createElement("div",{className:"form-group bsc-container"},n.createElement("label",{htmlFor:"note"},n.createElement(d.a,S.noteCreatorLabelNote)),n.createElement("input",{className:"form-control",type:"text",name:"note",id:"note",value:o,onChange:function(e){l(e.target.value)},disabled:u===b.CREATED})),u!==b.CREATED&&n.createElement("button",{type:"button",onClick:function(e){return Object(p.a)(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.trim().length){t.next=2;break}return t.abrupt("return",!1);case 2:return E(b.SAVING),t.prev=3,t.next=6,v(y({title:e}));case 6:E(b.CREATED),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),E(b.ERROR);case 12:case"end":return t.stop()}},t,null,[[3,9]])}))}(o),className:"btn btn-primary"},n.createElement(d.a,S.noteCreatorSave))))}),q=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),u=Object(c.a)(l,2),m=u[0],E=u[1],p=Object(n.useState)(V()),b=Object(c.a)(p,2),f=b[0],g=b[1];return r.a.createElement(H,{locale:f},r.a.createElement(i.a,{basename:"/bsc-fe-test"},r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{path:"*",render:function(e){var t=e.history;return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-secondary"},r.a.createElement("a",{href:"/",className:"navbar-brand",onClick:function(e){e.preventDefault(),t.push("/")}},r.a.createElement(d.a,S.appbarAppName)),r.a.createElement("button",{type:"button",className:"navbar-toggler",onClick:function(){o(function(e){return!e})}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"".concat(a?"":"collapse"," navbar-collapse")},r.a.createElement("ul",{className:"ml-auto navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link",onClick:function(e){e.preventDefault(),t.push("/")}},r.a.createElement(d.a,S.appbarNoteList))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link",onClick:function(e){e.preventDefault(),t.push("/create-note")}},r.a.createElement("b",null,r.a.createElement(d.a,S.appbarNoteNew)))),r.a.createElement("li",{className:"dropdown nav-item"},r.a.createElement("a",{"aria-haspopup":"true",href:"/",onClick:function(e){e.preventDefault(),E(function(e){return!e})},className:"dropdown-toggle nav-link","aria-expanded":m},F[f]),r.a.createElement("div",{tabIndex:-1,role:"menu","aria-hidden":!m,className:"dropdown-menu dropdown-menu-right ".concat(m&&"show")},Object.keys(F).map(function(e,t){return r.a.createElement("button",{type:"button",disabled:f===e,key:e,tabIndex:t-1,className:"".concat(f===e&&"disabled"," dropdown-item"),onClick:function(){g(e),E(!1)}},F[e])}))))))}}),r.a.createElement("div",{className:"container bsc-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(M,e)}}),r.a.createElement(s.a,{path:"/note/detail/:id",render:function(e){return r.a.createElement(z,e)}}),r.a.createElement(s.a,{path:"/note/edit/:id",render:function(e){return r.a.createElement(D,e)}}),r.a.createElement(s.a,{path:"/create-note",render:function(){return r.a.createElement(B,null)}})))))))};l.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d5d57837.chunk.js.map